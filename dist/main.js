(()=>{"use strict";function e(e){let t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=ea5bc7b59ef81a149e4999e17ee60551`;return console.log(t),fetch(t).then((e=>e.json())).then((e=>e))}function t(e){return e.then((e=>{let t={},n=((e,t)=>{let n=new Date(1e3*e+1e3*t-36e5),o=n.toLocaleString("en-US",{weekday:"long"}),a=n.toLocaleString("en-US",{month:"long"}),l=n.toLocaleString("en-US",{day:"numeric"}),c=n.toLocaleString("en-US",{year:"numeric"}),d=n.toLocaleString("en-US",{hour:"2-digit"});d=d.slice(0,2);let i=n.toLocaleString("en-US",{minute:"numeric"});return{full:`${o} ${l} ${a} ${c}`,hours:`${d}:${i}`,dayHour:`${o} ${l}, ${d}:${i}`}})(e.dt,e.timezone);return t.name=e.name,t.temperature=e.main.temp,t.tmpFeelsLike=e.main.feels_like,t.humidity=e.main.humidity,t.windSpeed=e.wind.speed,t.clouds=e.clouds.all,t.date=n,t.weatherDescription=e.weather[0].description,t}))}t(e("barcelona")).then((e=>{console.log("Barcelona Base"),n(e),d(e,l)}));const n=e=>{console.log(`City: ${e.name}`),console.log(`temperature: ${e.temperature} *C`),console.log(`temperature feels like: ${e.tmpFeelsLike} *C`),console.log(`Humidity: ${e.humidity} %`),console.log(`wind speed: ${e.windSpeed} m/sec`),console.log(`clouds: ${e.clouds} %`),console.log(`time: ${e.date.dayHour}`),console.log(`weather: ${e.weatherDescription}`),console.log(" ")};let o=document.getElementById("searchButton"),a=document.getElementById("searchInput"),l=document.getElementById("temperature"),c=document.getElementById("humidity");o.addEventListener("click",(()=>{a.value.length>0?t(e(a.value)).then((e=>{n(e),d(e,l)})).catch((e=>{alert("city not found")})):alert("introduce the name of a city")}));const d=e=>{l.value=`${e.temperature}°C`,console.log(l),i(e.temperature),r(e.humidity,e.clouds,e.windSpeed)},i=e=>{let t=document.createElement("img"),n=document.createElement("p");t.classList.add("temperatureImg"),n.classList.add("temperatureText"),n.textContent=`${e}°C`,l.append(t),l.append(n)},r=(e,t,n)=>{let o=document.createElement("p"),a=document.createElement("p"),l=document.createElement("p");o.classList.add("pText"),a.classList.add("pText"),l.classList.add("pText"),o.textContent=`Humidity: ${e}%`,a.textContent=`clouds: ${t}%`,l.textContent=`wind speed: ${n}m/sec`,c.append(o),c.append(a),c.append(l)}})();